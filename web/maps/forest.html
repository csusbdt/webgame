<!DOCTYPE html>
    <head>
        <meta charset="utf-8">
        <title>Game</title>
        <link rel="stylesheet" href="../css/normalize.css">
        <link rel="stylesheet" href="../css/map.css">
        
        <style>
        	table {
				display: table;
				border: solid 1px;
			}

			tr {
				display: table-row;
			}

			td {
				display: table-cell;
				border-right: dashed 1px;
				border-bottom: solid 1px;
				width: 64px;
				height: 64px;
			}
			
			td.pc {
				background: red;
			}
        </style>
    </head>
    <body>
    
    <h1>Forest Map</h1>
    
    <p>
    This file illustrates how to use modules with curl.
    </p>
    
    <table>
    	<tr>
    		<td>0 0</td>
    		<td>0 1</td>
    		<td>0 2</td>
    	</tr>
    	<tr>
    		<td>1 0</td>
    		<td>1 1</td>
    		<td>1 2</td>
    	</tr>
    	<tr>
    		<td>2 0</td>
    		<td>2 1</td>
    		<td>2 2</td>
    	</tr>
    	<tr>
    		<td>3 0</td>
    		<td class="pc">3 1</td>
    		<td>3 2</td>
    	</tr>
    </table>


        <script src="../js/curl.js" type="text/javascript"></script>
        <script>
            curl(
	            {
    	            baseUrl: '../js',
        	        paths: {
            	        'jquery': 'jquery-1.8.2.min'
                	}
            	},
            	['jquery'], 
            	function($) {
            		var pc = { };
            		
            		pc.moveUp = function() {
						var cell = $('.pc');
						var row = cell.parent();
						var rowPos = row.prevAll().length;
						if (rowPos === 0) return;
						var colPos = cell.prevAll().length;
						var destRow = row.prev();
						var destCell = destRow.children().eq(colPos);
						cell.removeClass('pc');
						destCell.addClass('pc');
            		}
            		
					$('html').keypress(function(e) {
						if (e.which === 119) { // 'w'
							pc.moveUp();
						} else if (e.which === 115) {
							alert('s');
						} else if (e.which === 97) {
							alert('a');
						} else if (e.which === 100) {
							alert('d');
						} else if (e.which === 32) {
							alert('space');
						}
					});
            	} 
            );
        </script>
        
    </body>
</html>
